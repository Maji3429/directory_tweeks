![](.github/assets/header.png)

# 概要

このスクリプトは、指定したディレクトリ内のファイルを自動的に整理するためのものです。特定の拡張子を持つファイルを自動で適切なディレクトリに移動します。

# 使い方

## 環境構築

-   Python 3.x をインストール
-   必要なライブラリをインストール

```bash
pip install -r requirements.txt
```

-   `models`フォルダーを作成し、Embedding モデルをダウンロード(以下は Ruri-v3-310m の例)

```bash
huggingface-cli download cl-nagoya/ruri-v3-310m --local-dir ./models/ruri-v3-310m
```

-   `config.yaml`を編集

```yaml
exclude_dirs:
    - ".vscode" # 除外したいディレクトリのリスト
    - ".git"
    # 他にも除外したいディレクトリがあれば追加

include_exts:
    - ".md" # 対象とするファイルの拡張子リスト
    - ".txt"
    # 他にも対象にしたい拡張子があれば追加
```

## 実行方法

### プレビューモード

ファイルを実際に移動せずに、どのファイルがどのディレクトリに移動されるかを確認できます。

```bash
python previewer.py "整理したいディレクトリのパス"
```

### 実行モード

ファイルを実際に移動します。実行前に必ずプレビューモードで確認することをおすすめします。

```bash
python main.py "整理したいディレクトリのパス"
```

## 仕組み

1. 指定されたディレクトリ内のサブディレクトリを取得（除外ディレクトリを除く）
2. フォルダ名を Sentence Transformer モデル（Ruri-v3-310m）でベクトル化
3. 対象ファイル（`.md`や`.txt`など）の内容もベクトル化
4. 各ファイルの内容と最も類似度が高いフォルダにファイルを移動

## 注意事項

-   実行前に必ずバックアップを取ってください
-   プレビューモードで動作確認してから実行モードを使用することを強く推奨します
-   同じ名前のファイルが移動先に存在する場合は上書きされます
-   Ruri-v3-310m モデルは日本語テキストの解析に特化しています

## カスタマイズ

`config.yaml`ファイルを編集して、除外するディレクトリや対象とする拡張子をカスタマイズできます。

## Credits

-  [Ruri-v3-310m](https://huggingface.co/cl-nagoya/ruri-v3-310m) - 日本語テキストのベクトル化に使用
